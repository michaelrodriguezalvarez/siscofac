{% extends 'base.html.twig' %}

{% block title %}{% trans %}Listar{% endtrans %} {% trans %}Contratos{% endtrans %} {% trans %}Comite de contratacion{% endtrans %}{% endblock %}

{% block body %}
    <div class="container small">
        <h5>{% trans %}Listar{% endtrans %} {% trans %}Contratos{% endtrans %} {% trans %}Comite de contratacion{% endtrans %}</h5>

        {% for message in app.flashes('notice') %}
            <div class="alert-info">
                {{ message |trans}}
            </div>
        {% endfor %}

        {% include 'contrato_comite_contratacion/botones_contrato_comite_contratacion.html.twig' %}
        {% include 'contrato_comite_contratacion/ventana_modal.html.twig' %}
    <br>
    <br>

    {% if contrato_comite_contratacions | length == 0%}
        <div class="col-lg-12">
            <p class="alert-info">{% trans %}No se encontraron registros{% endtrans %}</p>
        </div>
    {% else %}

        <table id="table_contrato_comite_contratacion_index" class="table table-striped table-bordered" style="width:100%">
        <thead>
            <tr>
                <th>{% trans %}Orden{% endtrans %}</th>
                <th>{% trans %}Proveedor{% endtrans %}</th>
                <th>{% trans %}Tipo de servicio{% endtrans %}</th>
                <th>{% trans %}Objeto{% endtrans %}</th>
                <th>{% trans %}Valor contrato inicial cup{% endtrans %} CUP</th>
                <th>{% trans %}Valor contrato inicial cuc{% endtrans %} CUC</th>
                <th>{% trans %}Area administra contrato{% endtrans %}</th>
                <th>{% trans %}Fecha de reunion{% endtrans %}</th>
                <th>{% trans %}Acciones{% endtrans %}</th>
            </tr>
        </thead>
        <tbody>
        {% for contrato_comite_contratacion in contrato_comite_contratacions %}
            <tr>
                <td>{{ contrato_comite_contratacion.orden }}</td>
                <td>{{ contrato_comite_contratacion.proveedor }}</td>
                <td>{{ contrato_comite_contratacion.tipoDeServicio }}</td>
                <td>{{ contrato_comite_contratacion.objeto }}</td>
                <td>{{ contrato_comite_contratacion.valorContratoInicialCup }}</td>
                <td>{{ contrato_comite_contratacion.valorContratoInicialCuc }}</td>
                <td>{{ contrato_comite_contratacion.areaAdministraContrato }}</td>
                <td>{{ contrato_comite_contratacion.fechaDeReunion ? contrato_comite_contratacion.fechaDeReunion|date('d-m-Y') : '' }}</td>
                <td>
                    <a class="btn-sm btn-success" href="{{path('contrato_comite_contratacion_aprobar',{'id': contrato_comite_contratacion.id})}}">Aprobar</a>
                    <a class="btn-sm btn-danger" href="{{path('contrato_comite_contratacion_denegar',{'id': contrato_comite_contratacion.id})}}">Denegar</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="10">{% trans %}No se encontraron registros{% endtrans %}</td>
            </tr>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    {% endif %}
    </div>
{% endblock %}

{% block javascripts %}
    <script src="{{ asset('build/contrato_comite_contratacion.js') }}"></script>
{% endblock %}